# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–∞—á–µ—Å—Ç–≤–æ–º similarity

## –ü—Ä–æ–±–ª–µ–º–∞
–ö–∞–Ω–∞–ª –ø—Ä–æ —Å–µ—Ä–∏–∞–ª—ã/—Ç—Ä–µ–π–ª–µ—Ä—ã/–∏–≥—Ä—ã/IT-–Ω–æ–≤–æ—Å—Ç–∏ –ø–æ–ª—É—á–∞–µ—Ç –≤ –≤—ã–¥–∞—á–µ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (–ø—Ä–æ –∑–≤–µ–∑–¥, –°—Ç–∞–ª–∏–Ω–∞ –∏ —Ç.–¥.)

## –ü—Ä–∏—á–∏–Ω–∞
–°–∏—Å—Ç–µ–º–∞ similarity —Ä–∞–±–æ—Ç–∞–µ—Ç **—Å—Ç—Ä–æ–≥–æ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º**:
- –ö–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª –ø–æ–ª—É—á–∞–µ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏—é —á–µ—Ä–µ–∑ LLM –∞–Ω–∞–ª–∏–∑
- –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –∏–¥–µ—Ç **–¢–û–õ–¨–ö–û –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
- –ö–∞–Ω–∞–ª—ã –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π **–ù–ò–ö–û–ì–î–ê** –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è

**–ï—Å–ª–∏ LLM –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª–∏–ª –∫–∞—Ç–µ–≥–æ—Ä–∏—é** ‚Üí –≤—ã–¥–∞—á–∞ –±—É–¥–µ—Ç –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–π!

–ù–∞–ø—Ä–∏–º–µ—Ä:
- –ö–∞–Ω–∞–ª –ø—Ä–æ —Ç—Ä–µ–π–ª–µ—Ä—ã –ø–æ–ø–∞–ª –≤ "–Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–º–∏" ‚Üí —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å –Ω–æ–≤–æ—Å—Ç—è–º–∏ –ø—Ä–æ –°—Ç–∞–ª–∏–Ω–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: "–≤–∏–¥–µ–æ –∏ —Ñ–∏–ª—å–º—ã"

## –†–µ—à–µ–Ω–∏–µ

### –®–∞–≥ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞:

```bash
cd /home/alex/apps/tg-analytics-bot
python3 scripts/diagnose_similarity.py <username>
```

–ü—Ä–∏–º–µ—Ä—ã:
```bash
python3 scripts/diagnose_similarity.py technews
python3 scripts/diagnose_similarity.py @movienews
python3 scripts/diagnose_similarity.py id:-1002508742544
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- ‚úÖ –¢–µ–∫—É—â—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∫–∞–Ω–∞–ª–∞
- ‚úÖ –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞
- ‚úÖ –° –∫–∞–∫–∏–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏ –µ–≥–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç (–ø—Ä–∏–º–µ—Ä—ã –∏–∑ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- ‚úÖ –¢–æ–ø-10 –ø–æ—Ö–æ–∂–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –∏–∑ –≤—ã–¥–∞—á–∏
- üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

–ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è, –∏—Å–ø—Ä–∞–≤—å—Ç–µ –µ–µ –≤—Ä—É—á–Ω—É—é:

```bash
cd /home/alex/apps/tg-analytics-bot
python3 scripts/fix_category.py <username> "–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è"
```

–ü—Ä–∏–º–µ—Ä—ã:
```bash
# –î–ª—è –∫–∞–Ω–∞–ª–∞ —Å —Ç—Ä–µ–π–ª–µ—Ä–∞–º–∏
python3 scripts/fix_category.py movienews "–≤–∏–¥–µ–æ –∏ —Ñ–∏–ª—å–º—ã"

# –î–ª—è –∫–∞–Ω–∞–ª–∞ —Å –∏–≥—Ä–∞–º–∏
python3 scripts/fix_category.py gamenews "–∏–≥—Ä—ã"

# –î–ª—è IT-–Ω–æ–≤–æ—Å—Ç–µ–π
python3 scripts/fix_category.py technews "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** (48 —à—Ç—É–∫):
- `—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏` - IT, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞, —Å–æ—Ñ—Ç, –≥–∞–¥–∂–µ—Ç—ã
- `–≤–∏–¥–µ–æ –∏ —Ñ–∏–ª—å–º—ã` - –∫–∏–Ω–æ, —Å–µ—Ä–∏–∞–ª—ã, —Ç—Ä–µ–π–ª–µ—Ä—ã
- `–∏–≥—Ä—ã` - –≥–µ–π–º–¥–µ–≤, –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç, –∏–≥—Ä–æ–≤—ã–µ –Ω–æ–≤–æ—Å—Ç–∏
- `–Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–º–∏` - –æ–±—â–∏–µ –Ω–æ–≤–æ—Å—Ç–∏, –ø–æ–ª–∏—Ç–∏–∫–∞, —Å–æ–±—ã—Ç–∏—è
- `—é–º–æ—Ä –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏—è` - –ø—Ä–∏–∫–æ–ª—ã, –º–µ–º—ã
- `—ç–∫–æ–Ω–æ–º–∏–∫–∞` - —Ñ–∏–Ω–∞–Ω—Å—ã, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –±–∏–∑–Ω–µ—Å
- `–º–∞—Ä–∫–µ—Ç–∏–Ω–≥, pr, —Ä–µ–∫–ª–∞–º–∞` - SMM, —Ç–∞—Ä–≥–µ—Ç, –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ
- `–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã` - –∫—Ä–∏–ø—Ç–∞, –±–ª–æ–∫—á–µ–π–Ω
- –∏ –µ—â–µ 40 –∫–∞—Ç–µ–≥–æ—Ä–∏–π...

–ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫: `python3 scripts/fix_category.py` (–±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤)

### –®–∞–≥ 3: –ü–µ—Ä–µ—Å—á–µ—Ç similarity

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–µ—Ä–µ—Å—á–∏—Ç–∞–π—Ç–µ –ø–æ—Ö–æ–∂–∏–µ –∫–∞–Ω–∞–ª—ã:

```bash
cd /home/alex/apps/tg-analytics-bot

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source venv/bin/activate

# –î–ª—è –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (–±—ã—Å—Ç—Ä–æ, 10-30 —Å–µ–∫)
python3 -m app.services.similarity_engine.cli single <CHANNEL_ID>

# –ò–ª–∏ –¥–ª—è –≤—Å–µ–π –±–∞–∑—ã (–º–µ–¥–ª–µ–Ω–Ω–æ, 10-60 –º–∏–Ω)
python3 -m app.services.similarity_engine.cli batch
```

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–Ω–æ–≤–∞ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É:
   ```bash
   python3 scripts/diagnose_similarity.py <username>
   ```

2. –ò–ª–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞–Ω–∞–ª —á–µ—Ä–µ–∑ –±–æ—Ç–∞ –∑–∞–Ω–æ–≤–æ

## –£–ª—É—á—à–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ —Å–∏—Å—Ç–µ–º—É

### 1. –£–ª—É—á—à–µ–Ω LLM –ø—Ä–æ–º–ø—Ç

–î–æ–±–∞–≤–ª–µ–Ω—ã **—è–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞** –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π:

```
‚ö†Ô∏è –û–°–û–ë–û–ï –í–ù–ò–ú–ê–ù–ò–ï:
‚Ä¢ –°–µ—Ä–∏–∞–ª—ã/—Ç—Ä–µ–π–ª–µ—Ä—ã/–∫–∏–Ω–æ/Netflix ‚Üí "–≤–∏–¥–µ–æ –∏ —Ñ–∏–ª—å–º—ã" (–ù–ï –Ω–æ–≤–æ—Å—Ç–∏!)
‚Ä¢ –ò–≥—Ä—ã/–≥–µ–π–º–¥–µ–≤/steam/PlayStation ‚Üí "–∏–≥—Ä—ã" (–ù–ï –Ω–æ–≤–æ—Å—Ç–∏!)
‚Ä¢ IT-–Ω–æ–≤–æ—Å—Ç–∏/–≥–∞–¥–∂–µ—Ç—ã/—Ä–µ–ª–∏–∑—ã —Å–æ—Ñ—Ç–∞ ‚Üí "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏" (–ù–ï –Ω–æ–≤–æ—Å—Ç–∏!)
‚Ä¢ –ù–æ–≤–æ—Å—Ç–∏ –æ —Å–æ–±—ã—Ç–∏—è—Ö/–ø–æ–ª–∏—Ç–∏–∫–∞ ‚Üí "–Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–º–∏"
```

–î–æ–±–∞–≤–ª–µ–Ω—ã **–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã**:
- –ö–∞–Ω–∞–ª –ø—Ä–æ —Ç—Ä–µ–π–ª–µ—Ä—ã ‚Üí "–≤–∏–¥–µ–æ –∏ —Ñ–∏–ª—å–º—ã"
- –ö–∞–Ω–∞–ª –ø—Ä–æ –∏–≥—Ä—ã ‚Üí "–∏–≥—Ä—ã"
- IT-–Ω–æ–≤–æ—Å—Ç–∏ ‚Üí "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏"

### 2. –°–æ–∑–¥–∞–Ω—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- `diagnose_similarity.py` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ—Ö–æ–∂–∏—Ö –∫–∞–Ω–∞–ª–æ–≤
- `fix_category.py` - –±—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

## –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∞"
**–†–µ—à–µ–Ω–∏–µ:** –ö–∞–Ω–∞–ª –Ω–µ –±—ã–ª –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –≤ –±–æ—Ç–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

### –ü—Ä–æ–±–ª–µ–º–∞: "–ú–∞–ª–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ (< 5)"
**–†–µ—à–µ–Ω–∏–µ:** –£ –∫–∞–Ω–∞–ª–∞ –º–∞–ª–æ –ø–æ—Å—Ç–æ–≤ –∏–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –î–æ–∂–¥–∏—Ç–µ—Å—å –Ω–æ–≤—ã—Ö –ø–æ—Å—Ç–æ–≤ –∏ –ø–µ—Ä–µ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ.

### –ü—Ä–æ–±–ª–µ–º–∞: "–ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å–ª–∏—à–∫–æ–º –æ–±—â–∞—è"
**–ü—Ä–∏–º–µ—Ä—ã:** "–Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–º–∏", "–¥—Ä—É–≥–æ–µ", "–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω–æ–µ"

**–†–µ—à–µ–Ω–∏–µ:** –≠—Ç–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ–±—ä–µ–¥–∏–Ω—è—é—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö —Ç–µ–º. –ù–∞–∑–Ω–∞—á—å—Ç–µ –±–æ–ª–µ–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—É—é:
- "–Ω–æ–≤–æ—Å—Ç–∏ –∏ —Å–º–∏" ‚Üí "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏", "–≤–∏–¥–µ–æ –∏ —Ñ–∏–ª—å–º—ã", "–∏–≥—Ä—ã" (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–º—ã)
- "–¥—Ä—É–≥–æ–µ" ‚Üí "–±–ª–æ–≥–∏", "—Ü–∏—Ç–∞—Ç—ã", –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞
- "–ø–æ–∑–Ω–∞–≤–∞—Ç–µ–ª—å–Ω–æ–µ" ‚Üí "–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ", "–∏—Å—Ç–æ—Ä–∏—è", "–Ω–∞—É–∫–∞"

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞–Ω–∞–ª –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –Ω–æ –≤—ã–¥–∞—á–∞ –ø–ª–æ—Ö–∞—è
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–∞–ª–æ –∫–∞–Ω–∞–ª–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ –ø–ª–æ—Ö–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞.

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: `python3 scripts/diagnose_similarity.py <username>`
2. –ï—Å–ª–∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ —Å–ª–∏—à–∫–æ–º –æ–±—â–∏–µ ‚Üí –ø–µ—Ä–µ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∫–∞–Ω–∞–ª
3. –ï—Å–ª–∏ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ < 10 –∫–∞–Ω–∞–ª–æ–≤ ‚Üí –ø–µ—Ä–µ—Å—á–∏—Ç–∞–π—Ç–µ –≤—Å—é –±–∞–∑—É –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –Ω–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

1. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** –ø–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ –Ω–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
2. **–ü–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–π—Ç–µ similarity** —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é (batch)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É** –ø—Ä–∏ –∂–∞–ª–æ–±–∞—Ö –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞—á–∏
4. **–°–æ–±–∏—Ä–∞–π—Ç–µ —Ñ–∏–¥–±–µ–∫** –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –Ω–µ—Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö

## –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥

```bash
cd /home/alex/apps/tg-analytics-bot

# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
python3 scripts/diagnose_similarity.py movienews

# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
python3 scripts/fix_category.py movienews "–≤–∏–¥–µ–æ –∏ —Ñ–∏–ª—å–º—ã"

# –ü–µ—Ä–µ—Å—á–µ—Ç –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞
source venv/bin/activate
python3 -m app.services.similarity_engine.cli single 12345

# –ü–µ—Ä–µ—Å—á–µ—Ç –¥–ª—è –≤—Å–µ–π –±–∞–∑—ã
python3 -m app.services.similarity_engine.cli batch
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç similarity

1. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º** - –∫–∞–Ω–∞–ª—ã –¥–µ–ª—è—Ç—Å—è –Ω–∞ 48 –∫–∞—Ç–µ–≥–æ—Ä–∏–π
2. **TF-IDF –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏** - –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –≤–∞–∂–Ω–æ—Å—Ç—å —Å–ª–æ–≤ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. **Cosine Similarity** - —Å—Ä–∞–≤–Ω–∏–≤–∞—é—Ç—Å—è –≤–µ–∫—Ç–æ—Ä—ã TF-IDF —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
4. **–¢–æ–ø-N —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–æ 500 –ø–æ—Ö–æ–∂–∏—Ö –∫–∞–Ω–∞–ª–æ–≤

### –ü–æ—á–µ–º—É –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –≤–∞–∂–Ω—ã

- **TF-IDF —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ**: —Å–ª–æ–≤–æ "—Ä–µ–ª–∏–∑" –≤–∞–∂–Ω–æ –≤ "–∏–≥—Ä–∞—Ö", –Ω–µ –≤–∞–∂–Ω–æ –≤ "—ç–∫–æ–Ω–æ–º–∏–∫–µ"
- **–ò–∑–±–µ–≥–∞–µ–º —à—É–º–∞**: –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ–º –∫–∞–Ω–∞–ª—ã –ø—Ä–æ Python —Å –∫–∞–Ω–∞–ª–∞–º–∏ –ø—Ä–æ –∫—É–ª–∏–Ω–∞—Ä–∏—é
- **–ö–∞—á–µ—Å—Ç–≤–æ –≤—ã–¥–∞—á–∏**: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –∫–∞–Ω–∞–ª—ã —Å—Ç—Ä–æ–≥–æ –ø–æ —Ç–µ–º–µ

### –§–∞–π–ª—ã –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

- `app/services/llm/prompt.py` - –ø—Ä–æ–º–ø—Ç –¥–ª—è LLM (–∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è)
- `app/services/similarity_engine/engine.py` - batch —Ä–∞—Å—á–µ—Ç
- `app/services/similarity_engine/engine_single.py` - —Ä–∞—Å—á–µ—Ç –¥–ª—è –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- `scripts/diagnose_similarity.py` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
- `scripts/fix_category.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
