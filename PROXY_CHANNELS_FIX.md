# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –∫–∞–Ω–∞–ª–∞–º–∏-–ø—Ä–æ–∫–ª–∞–¥–∫–∞–º–∏

## –ü—Ä–æ–±–ª–µ–º–∞

–ë–æ—Ç –Ω–µ –º–æ–≥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ Telegram –∫–∞–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ "–ø—Ä–æ–∫–ª–∞–¥–∫—É":
- –ö–∞–Ω–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–ª—å–∫–æ —Ä–µ–ø–æ—Å—Ç—è—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥—Ä—É–≥–∏–µ –∫–∞–Ω–∞–ª—ã
- –ë–æ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–∞—é—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã
- –ö–∞–Ω–∞–ª—ã-–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä—ã, –≥–¥–µ —Ç–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–∏ —Å—Å—ã–ª–æ–∫

**–ü—Ä–∏—á–∏–Ω–∞:** –í —Ñ—É–Ω–∫—Ü–∏–∏ `clean_text` (analyzer.py) –≤—Å–µ —Å—Å—ã–ª–∫–∏ —É–¥–∞–ª—è–ª–∏—Å—å –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–∏–∑–æ–º:
```python
text = re.sub(r"http[s]?://\S+", "", text)
text = re.sub(r"t\.me/\S+", "", text)
```

–ö–æ–≥–¥–∞ –±–æ—Ç –ø–∞—Ä—Å–∏–ª –∫–∞–Ω–∞–ª-–ø—Ä–æ–∫–ª–∞–¥–∫—É, –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç —É–¥–∞–ª—è–ª—Å—è, –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±—ã–ª–æ –Ω–µ—á–µ–≥–æ.

## –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–æ–≤-–ø—Ä–æ–∫–ª–∞–¥–æ–∫

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤-–ø—Ä–æ–∫–ª–∞–¥–æ–∫ –≤ `workflow.py`:

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞–Ω–∞–ª–∞-–ø—Ä–æ–∫–ª–∞–¥–∫–∏:**
- –ù–∞–π–¥–µ–Ω–æ ‚â• 3 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –¥—Ä—É–≥–∏—Ö –∫–∞–Ω–∞–ª–æ–≤
- –°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å—Ç–∞ < 100 —Å–∏–º–≤–æ–ª–æ–≤ (–±–µ–∑ —É—á–µ—Ç–∞ —Å—Å—ã–ª–æ–∫)
- –ë–æ–ª–µ–µ 50% –ø–æ—Å—Ç–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã

### 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –Ω–∞ –∫–∞–Ω–∞–ª—ã

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `_extract_channel_links_from_posts()`:
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ –∏–∑ –ø–æ—Å—Ç–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç—ã: `t.me/channel`, `@channel`
- –§–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ª—É–∂–µ–±–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (`joinchat`, `c/`, `+`)
- –ò—Å–∫–ª—é—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π –∫–∞–Ω–∞–ª –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ø-10 –ø–æ —á–∞—Å—Ç–æ—Ç–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π

### 3. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –∫–∞–Ω–∞–ª–∞

–ö–æ–≥–¥–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω –∫–∞–Ω–∞–ª-–ø—Ä–æ–∫–ª–∞–¥–∫–∞:
1. –ë–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
2. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ø–æ–º–∏–Ω–∞–Ω–∏–π –∫–∞–∂–¥–æ–≥–æ –∫–∞–Ω–∞–ª–∞
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç:
   - –í—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –∫–∞–Ω–∞–ª –∏–∑ —Å–ø–∏—Å–∫–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
   - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª-–ø—Ä–æ–∫–ª–∞–¥–∫—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### 4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (—Å—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞)
- –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏
- –¢–æ–ø —É–ø–æ–º–∏–Ω–∞–µ–º—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –û–±—ã—á–Ω—ã–π –∫–∞–Ω–∞–ª**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí @realchannel
–ë–æ—Ç ‚Üí "üîç –ü—Ä–æ–≤–µ—Ä—è—é –∫–∞–Ω–∞–ª..."
–ë–æ—Ç ‚Üí "–ó–∞–ø—É—Å–∫–∞—é –∞–Ω–∞–ª–∏–∑..." (–ø—Ä–æ–∫–ª–∞–¥–∫–∞ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞)
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ö–∞–Ω–∞–ª-–ø—Ä–æ–∫–ª–∞–¥–∫–∞**
```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí @proxy_channel
–ë–æ—Ç ‚Üí "üîç –ü—Ä–æ–≤–µ—Ä—è—é –∫–∞–Ω–∞–ª..."
–ë–æ—Ç ‚Üí "üîó –ö–∞–Ω–∞–ª-–ø—Ä–æ–∫–ª–∞–¥–∫–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω!"
–ë–æ—Ç ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫:
      - @channel1 (15 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π)
      - @channel2 (10 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π)
      - @channel3 (5 —É–ø–æ–º–∏–Ω–∞–Ω–∏–π)
      - ‚ö†Ô∏è –í—Å–µ —Ä–∞–≤–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å @proxy_channel
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö

**app/bot/handlers/workflow.py:**
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Å—ã–ª–æ–∫
- –§—É–Ω–∫—Ü–∏—è `_extract_channel_links_from_posts()`
- –£–ª—É—á—à–µ–Ω `start_analysis_callback()` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –Ω–∞ –ø—Ä–æ–∫–ª–∞–¥–∫—É
- –î–æ–±–∞–≤–ª–µ–Ω `force_analysis_callback()` –¥–ª—è –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### –ù–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- `collections.Counter` - –¥–ª—è –ø–æ–¥—Å—á–µ—Ç–∞ —á–∞—Å—Ç–æ—Ç—ã —É–ø–æ–º–∏–Ω–∞–Ω–∏–π

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ –∫–æ–¥–µ:
```python
# –ú–∏–Ω–∏–º—É–º —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
MIN_LINKED_CHANNELS = 3

# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ (—Å–∏–º–≤–æ–ª–æ–≤)
MAX_AVG_TEXT_LENGTH = 100

# –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–æ–ª—è –ø–æ—Å—Ç–æ–≤ —Å–æ —Å—Å—ã–ª–∫–∞–º–∏
MIN_LINK_POSTS_RATIO = 0.5
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–π–¥–∏—Ç–µ –∫–∞–Ω–∞–ª-–ø—Ä–æ–∫–ª–∞–¥–∫—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É:
1. –°—Å—ã–ª–∫—É –Ω–∞ –∫–∞–Ω–∞–ª: `https://t.me/proxy_channel`
2. –ò–ª–∏ –ø–µ—Ä–µ—Å–ª–∞—Ç—å –ø–æ—Å—Ç –∏–∑ –∫–∞–Ω–∞–ª–∞

–ë–æ—Ç –¥–æ–ª–∂–µ–Ω:
1. –û–±–Ω–∞—Ä—É–∂–∏—Ç—å –ø—Ä–æ–∫–ª–∞–¥–∫—É
2. –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø–∏—Å–æ–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
3. –ü–æ–∑–≤–æ–ª–∏—Ç—å –≤—ã–±—Ä–∞—Ç—å –Ω—É–∂–Ω—ã–π –∫–∞–Ω–∞–ª

## –î–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä —Å–∞–º–æ–≥–æ —É–ø–æ–º–∏–Ω–∞–µ–º–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- –ê–Ω–∞–ª–∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∞ —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –∫–∞–Ω–∞–ª–∞–º–∏
