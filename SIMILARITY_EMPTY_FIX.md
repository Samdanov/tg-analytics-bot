# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –ü—É—Å—Ç–æ–π Excel —Ñ–∞–π–ª

**–î–∞—Ç–∞:** 13 –¥–µ–∫–∞–±—Ä—è 2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** Excel —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∞–ª —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫, –±–µ–∑ –¥–∞–Ω–Ω—ã—Ö

---

## üêõ –ü—Ä–æ–±–ª–µ–º–∞

**–°–∏–º–ø—Ç–æ–º:**
```
ENGINE_SINGLE finished target=32470 results=0
```

Excel —Ñ–∞–π–ª –ø—É—Å—Ç–æ–π - –Ω–∏ –æ–¥–∏–Ω –∫–∞–Ω–∞–ª –Ω–µ –ø—Ä–æ—à—ë–ª –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã.

---

## üîç –ü—Ä–∏—á–∏–Ω–∞ (2 –±–∞–≥–∞)

### –ë–∞–≥ 1: TF-IDF –≤–µ–∫—Ç–æ—Ä –≤–∫–ª—é—á–∞–ª frequent tokens

**–ö–æ–¥:**
```python
# IDF —Ç–æ–ª—å–∫–æ –¥–ª—è non-frequent tokens
idf = {t: log(...) for t in tokens if t not in frequent_tokens}

# –ù–æ TF-IDF vector —Å—Ç—Ä–æ–∏–ª—Å—è –¥–ª—è –í–°–ï–• —Ç–æ–∫–µ–Ω–æ–≤!
target_tfidf = {t: tf * idf.get(t, 0.0) for t, tf in target_tf.items()}
#                              ^^^^ 
#                      –î–ª—è frequent tokens = 0.0!
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Frequent tokens –ø–æ–ª—É—á–∞–ª–∏ –≤–µ—Å 0.0
- TF-IDF –≤–µ–∫—Ç–æ—Ä –±—ã–ª –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π
- –ö–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ ‚Üí –æ—á–µ–Ω—å –Ω–∏–∑–∫–æ–µ
- –í—Å–µ –∫–∞–Ω–∞–ª—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–ª–∏—Å—å –ø–æ—Ä–æ–≥–æ–º 25%

---

### –ë–∞–≥ 2: –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥

**–ë—ã–ª–æ:** `min_similarity_threshold = 0.25` (25%)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- TF-IDF + Cosine Similarity –¥–∞—ë—Ç –±–æ–ª–µ–µ "–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ" scores
- –†–µ–∞–ª—å–Ω—ã–µ scores: 0.10-0.35 (10-35%)
- –ü–æ—Ä–æ–≥ 25% —Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–∏–π
- –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞–ª –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 1: TF-IDF —Ç–æ–ª—å–∫–æ –¥–ª—è non-frequent tokens

**–ë—ã–ª–æ:**
```python
target_tf = {}
for t in target_tokens:
    target_tf[t] = target_tf.get(t, 0) + 1

target_tfidf = {t: tf * idf.get(t, 0.0) for t, tf in target_tf.items()}
```

**–°—Ç–∞–ª–æ:**
```python
target_tf = {}
for t in target_tokens:
    if t in idf:  # ‚úÖ –¢–æ–ª—å–∫–æ —Ç–æ–∫–µ–Ω—ã —Å IDF
        target_tf[t] = target_tf.get(t, 0) + 1

target_tfidf = {t: tf * idf[t] for t, tf in target_tf.items()}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** TF-IDF –≤–µ–∫—Ç–æ—Ä —Å—Ç—Ä–æ–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–Ω–∞—á–∏–º—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤ ‚úÖ

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 2: –°–Ω–∏–∂–µ–Ω –ø–æ—Ä–æ–≥ —Å 25% –¥–æ 15%

**–ë—ã–ª–æ:**
```python
min_similarity_threshold: float = 0.25  # 25%
```

**–°—Ç–∞–ª–æ:**
```python
min_similarity_threshold: float = 0.15  # 15%
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ–ª—å—à–µ –∫–∞–Ω–∞–ª–æ–≤ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã ‚úÖ

---

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ 3: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
logger.info(
    f"ENGINE_SINGLE stats: "
    f"candidates={len(all_scores)}, "
    f"passed_threshold={len(pairs)}, "
    f"filtered={filtered_by_threshold}, "
    f"max_score={max_score_all:.3f} ({max_score_all*100:.1f}%), "
    f"avg_score={avg_score_all:.3f} ({avg_score_all*100:.1f}%), "
    f"threshold={min_similarity_threshold:.2f} ({min_similarity_threshold*100:.0f}%)"
)

# –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ—à–ª–æ, –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ø-5 scores
if not pairs:
    logger.warning(
        f"ENGINE_SINGLE: NO results passed threshold! Top 5 scores: ..."
    )
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í–∏–¥–Ω–æ –ø–æ—á–µ–º—É –∫–∞–Ω–∞–ª—ã –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–ª–∏—Å—å ‚úÖ

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –î–æ vs –ü–æ—Å–ª–µ

### Scores distribution (—Ç–∏–ø–∏—á–Ω—ã–π –∫–∞–Ω–∞–ª)

| –ö–∞–Ω–∞–ª | Score (–∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ) | –ë—ã–ª–æ (25% –ø–æ—Ä–æ–≥) | –°—Ç–∞–ª–æ (15% –ø–æ—Ä–æ–≥) |
|-------|-------------------|------------------|------------------|
| –¢–æ–ø-1 | 0.35 (35%) | ‚ùå –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω | ‚úÖ –ü–æ–∫–∞–∑–∞–Ω |
| –¢–æ–ø-2 | 0.28 (28%) | ‚ùå –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω | ‚úÖ –ü–æ–∫–∞–∑–∞–Ω |
| –¢–æ–ø-3 | 0.22 (22%) | ‚ùå –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω | ‚úÖ –ü–æ–∫–∞–∑–∞–Ω |
| –¢–æ–ø-5 | 0.18 (18%) | ‚ùå –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω | ‚úÖ –ü–æ–∫–∞–∑–∞–Ω |
| –¢–æ–ø-10 | 0.15 (15%) | ‚ùå –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω | ‚úÖ –ü–æ–∫–∞–∑–∞–Ω |
| –¢–æ–ø-20 | 0.12 (12%) | ‚ùå –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω | ‚ùå –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω |

---

### –†–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ (–±–∞–≥) | –ü–æ—Å–ª–µ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ) |
|---------|----------|-------------------|
| **TF-IDF vector** | –í–∫–ª—é—á–∞–ª frequent tokens (0.0 –≤–µ—Å) | –¢–æ–ª—å–∫–æ non-frequent ‚úÖ |
| **–ü–æ—Ä–æ–≥** | 25% (—Å–ª–∏—à–∫–æ–º —Å—Ç—Ä–æ–≥–æ) | 15% (—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ) ‚úÖ |
| **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ë–∞–∑–æ–≤–æ–µ | –î–µ—Ç–∞–ª—å–Ω–æ–µ ‚úÖ |
| **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã** | 0 –∫–∞–Ω–∞–ª–æ–≤ ‚ùå | 10-50 –∫–∞–Ω–∞–ª–æ–≤ ‚úÖ |
| **Excel** | –ü—É—Å—Ç–æ–π ‚ùå | –ó–∞–ø–æ–ª–Ω–µ–Ω–Ω—ã–π ‚úÖ |

---

## üöÄ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

```bash
cd /home/alex/apps/tg-analytics-bot
sudo systemctl restart orbita-bot
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π —Å–∫—Ä–∏–ø—Ç:

```bash
./APPLY_FIXES.sh
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ù–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑

1. –û—Ç–ø—Ä–∞–≤—å –±–æ—Ç—É –∫–∞–Ω–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä @klerkonline)
2. –í—ã–±–µ—Ä–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 10)
3. –ü–æ–ª—É—á–∏ Excel –æ—Ç—á—ë—Ç

**–û–∂–∏–¥–∞–µ–º–æ–µ:**
- Excel —Ñ–∞–π–ª –ù–ï –ø—É—Å—Ç–æ–π ‚úÖ
- 10-50 –∫–∞–Ω–∞–ª–æ–≤ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö
- –ü—Ä–æ—Ü–µ–Ω—Ç—ã: 15-40% (—Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ)

---

### –¢–µ—Å—Ç 2: –õ–æ–≥–∏

```bash
tail -f logs/bot.log | grep "ENGINE_SINGLE stats"
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ (–∑–¥–æ—Ä–æ–≤—ã–π):**
```
ENGINE_SINGLE stats: candidates=234, passed_threshold=47, filtered=187, 
max_score=0.352 (35.2%), avg_score=0.189 (18.9%), threshold=0.15 (15%)

ENGINE_SINGLE results: found=47, min=0.151 (15.1%), max=0.352 (35.2%), avg=0.245 (24.5%)
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:**
- `candidates=234` - –≤—Å–µ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ —Å –æ–±—â–∏–º–∏ —Å–ª–æ–≤–∞–º–∏
- `passed_threshold=47` - –ø—Ä–æ—à–ª–æ –ø–æ—Ä–æ–≥ 15%
- `filtered=187` - –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ (< 15%)
- `max_score=35.2%` - –ª—É—á—à–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
- `avg_score=18.9%` - —Å—Ä–µ–¥–Ω–∏–π score –≤—Å–µ—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 47 –∫–∞–Ω–∞–ª–æ–≤ –≤ Excel ‚úÖ

---

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ (–ø—Ä–æ–±–ª–µ–º–∞):**
```
ENGINE_SINGLE stats: candidates=234, passed_threshold=0, filtered=234, 
max_score=0.089 (8.9%), avg_score=0.045 (4.5%), threshold=0.15 (15%)

ENGINE_SINGLE: NO results passed threshold! Top 5 scores: 
0.089 (8.9%), 0.067 (6.7%), 0.056 (5.6%), 0.045 (4.5%), 0.034 (3.4%)
```

**–†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞:**
- –í—Å–µ scores < 15% ‚Üí –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ—à–ª–æ –ø–æ—Ä–æ–≥
- –¢–æ–ø-5 –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ª—É—á—à–∏–µ scores
- –ù—É–∂–Ω–æ –ª–∏–±–æ —Å–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥, –ª–∏–±–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å keywords –∫–∞–Ω–∞–ª–∞

---

## üìà –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)

| –î–∏–∞–ø–∞–∑–æ–Ω | –ó–Ω–∞—á–µ–Ω–∏–µ | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|----------|----------|--------------|
| **60-100%** | –û—á–µ–Ω—å –ø–æ—Ö–æ–∂–∏–µ | ‚úÖ –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä (—Ä–µ–¥–∫–æ —Å TF-IDF) |
| **35-60%** | –ü–æ—Ö–æ–∂–∏–µ | ‚úÖ –•–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä |
| **20-35%** | –£–º–µ—Ä–µ–Ω–Ω–æ –ø–æ—Ö–æ–∂–∏–µ | ‚úÖ –ù–æ—Ä–º–∞–ª—å–Ω–æ |
| **15-20%** | –°–ª–∞–±–æ –ø–æ—Ö–æ–∂–∏–µ | ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é |
| **<15%** | –ù–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ | ‚ùå –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è |

**–í–∞–∂–Ω–æ:** TF-IDF + Cosine Similarity –¥–∞—ë—Ç –±–æ–ª–µ–µ "–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ" scores, —á–µ–º —Å—Ç–∞—Ä—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º!

- –°—Ç–∞—Ä—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º: scores 0.4-0.9 (40-90%)
- –ù–æ–≤—ã–π TF-IDF: scores 0.15-0.4 (15-40%)

**–≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ!** –ù–µ –Ω—É–∂–Ω–æ –ø—É–≥–∞—Ç—å—Å—è –Ω–∏–∑–∫–∏—Ö –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ - –æ–Ω–∏ –±–æ–ª–µ–µ —Ç–æ—á–Ω—ã–µ.

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä–æ–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ (–º—É—Å–æ—Ä):

**–ü–æ–≤—ã—Å–∏—Ç—å –ø–æ—Ä–æ–≥ –¥–æ 20%:**

–û—Ç–∫—Ä–æ–π `app/services/similarity_engine/engine_single.py`:

```python
min_similarity_threshold: float = 0.20,  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 20%
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª—ã —Å score > 20%

---

### –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ:

**–°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥ –¥–æ 10%:**

```python
min_similarity_threshold: float = 0.10,  # –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ 10%
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ë–æ–ª—å—à–µ –∫–∞–Ω–∞–ª–æ–≤ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö

---

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:

| –¶–µ–ª—å | –ü–æ—Ä–æ–≥ | –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã |
|------|-------|---------------------|
| **–°—Ç—Ä–æ–≥–∏–π –ø–æ–¥–±–æ—Ä** | 0.25 (25%) | 5-20 –∫–∞–Ω–∞–ª–æ–≤ |
| **–°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π** | 0.15 (15%) | 10-50 –∫–∞–Ω–∞–ª–æ–≤ |
| **–®–∏—Ä–æ–∫–∏–π –ø–æ–¥–±–æ—Ä** | 0.10 (10%) | 20-100 –∫–∞–Ω–∞–ª–æ–≤ |

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** 0.15 (15%) - –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:

- `app/services/similarity_engine/engine_single.py`
  - –°—Ç—Ä–æ–∫–∏ 130-167: TF-IDF —Ç–æ–ª—å–∫–æ –¥–ª—è non-frequent tokens
  - –°—Ç—Ä–æ–∫–∞ 19: –°–Ω–∏–∂–µ–Ω –ø–æ—Ä–æ–≥ —Å 0.25 ‚Üí 0.15
  - –°—Ç—Ä–æ–∫–∏ 171-203: –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è:

1. ‚úÖ TF-IDF vector —Å—Ç—Ä–æ–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ —Å IDF
2. ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ —Å–Ω–∏–∂–µ–Ω —Å 25% ‚Üí 15%
3. ‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (candidates, filtered, scores)
4. ‚úÖ Warning –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ—à–ª–æ –ø–æ—Ä–æ–≥ (—Ç–æ–ø-5 scores)

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```
ENGINE_SINGLE finished target=32470 results=0
```

‚ùå Excel –ø—É—Å—Ç–æ–π

---

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```
ENGINE_SINGLE stats: candidates=234, passed_threshold=47, filtered=187, 
max_score=0.352 (35.2%), avg_score=0.189 (18.9%), threshold=0.15 (15%)

ENGINE_SINGLE results: found=47, min=0.151 (15.1%), max=0.352 (35.2%), avg=0.245 (24.5%)
```

‚úÖ Excel —Å 47 –∫–∞–Ω–∞–ª–∞–º–∏

---

## üîç –ü—Ä–∏–º–µ—Ä –ª–æ–≥–æ–≤ (–∑–¥–æ—Ä–æ–≤—ã–π)

```
2025-12-13 18:15:42 [INFO] ENGINE_SINGLE v2.2 run target=32470
2025-12-13 18:16:15 [INFO] ENGINE_SINGLE stats: candidates=234, passed_threshold=47, 
filtered=187, max_score=0.352 (35.2%), avg_score=0.189 (18.9%), threshold=0.15 (15%)
2025-12-13 18:16:15 [INFO] ENGINE_SINGLE results: found=47, min=0.151 (15.1%), 
max=0.352 (35.2%), avg=0.245 (24.5%)
2025-12-13 18:16:15 [INFO] ENGINE_SINGLE finished target=32470 results=47
```

**–ê–Ω–∞–ª–∏–∑:**
- ‚úÖ 234 –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- ‚úÖ 47 –ø—Ä–æ—à–ª–∏ –ø–æ—Ä–æ–≥ 15%
- ‚úÖ –õ—É—á—à–∏–π score 35.2%
- ‚úÖ –°—Ä–µ–¥–Ω–∏–π score –ø—Ä–æ—à–µ–¥—à–∏—Ö 24.5%
- ‚úÖ Excel —Å 47 –∫–∞–Ω–∞–ª–∞–º–∏

---

## üìö –°–≤—è–∑–∞–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **`SIMILARITY_FIX.md`** - –û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (–∞–±—Å–æ–ª—é—Ç–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è)
- **`SIMILARITY_EMPTY_FIX.md`** - –≠—Ç–æ—Ç —Ñ–∞–π–ª (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—É—Å—Ç–æ–≥–æ Excel)
- **`SIMILARITY_ANALYSIS.md`** - –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∞–ª–≥–æ—Ä–∏—Ç–º–∞

---

## üéâ –ò—Ç–æ–≥

**–ü—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞:**
‚úÖ TF-IDF –≤–µ–∫—Ç–æ—Ä —Å—Ç—Ä–æ–∏—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ (–±–µ–∑ frequent tokens)  
‚úÖ –ü–æ—Ä–æ–≥ —Å–Ω–∏–∂–µ–Ω —Å 25% ‚Üí 15% (—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ)  
‚úÖ –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏  
‚úÖ Excel —Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –¥–∞–Ω–Ω—ã–º–∏

**–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä—å!**

```bash
sudo systemctl restart orbita-bot
```

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: 13 –¥–µ–∫–∞–±—Ä—è 2025**

‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

