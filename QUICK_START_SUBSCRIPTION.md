# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫

## –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç?

–¢–µ–ø–µ—Ä—å –±–æ—Ç –∏–º–µ–µ—Ç **—Å–∏—Å—Ç–µ–º—É –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π**:

### üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω–æ
- **10 –∞–Ω–∞–ª–∏–∑–æ–≤**
- **–î–æ 100 –∫–∞–Ω–∞–ª–æ–≤** –≤ –æ—Ç—á–µ—Ç–µ

### üíé Premium
- **–ë–µ–∑–ª–∏–º–∏—Ç–Ω—ã–µ** –∞–Ω–∞–ª–∏–∑—ã
- **–î–æ 500 –∫–∞–Ω–∞–ª–æ–≤** –≤ –æ—Ç—á–µ—Ç–µ

## –ó–∞–ø—É—Å–∫ –∑–∞ 3 —à–∞–≥–∞

### –®–∞–≥ 1: –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î (1 –º–∏–Ω)

```bash
cd /home/alex/apps/tg-analytics-bot
python3 scripts/migrate_add_users_table.py
```

‚úÖ –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è: "‚úÖ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!"

### –®–∞–≥ 2: –î–æ–±–∞–≤–∏—Ç—å —Å–µ–±—è –≤ –∞–¥–º–∏–Ω—ã (1 –º–∏–Ω)

1. –£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π Telegram ID:
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É @userinfobot
   - –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ https://t.me/userinfobot

2. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª:
   ```bash
   nano app/bot/handlers/subscription.py
   ```

3. –ù–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
   ```python
   ADMIN_IDS = [
       # –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à Telegram ID —Å—é–¥–∞
   ]
   ```

4. –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:
   ```python
   ADMIN_IDS = [
       123456789,  # –í–∞—à ID
   ]
   ```

5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ: `Ctrl+O`, `Enter`, `Ctrl+X`

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ (1 –º–∏–Ω)

```bash
# –ï—Å–ª–∏ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω —á–µ—Ä–µ–∑ systemd
sudo systemctl restart orbita-bot

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é (Ctrl+C –¥–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç–∞—Ä–æ–≥–æ, –ø–æ—Ç–æ–º):
cd /home/alex/apps/tg-analytics-bot
source venv/bin/activate
python3 app/main_di.py
```

## –ì–æ—Ç–æ–≤–æ! üéâ

–¢–µ–ø–µ—Ä—å:
- –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—é—Ç Free —Ç–∞—Ä–∏—Ñ
- –í—ã –º–æ–∂–µ—Ç–µ —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ —á–µ—Ä–µ–∑ admin –∫–æ–º–∞–Ω–¥—ã
- –õ–∏–º–∏—Ç—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- `/start` - –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –ª–∏–º–∏—Ç—ã
- `/stats` - –≤–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –î–ª—è –∞–¥–º–∏–Ω–æ–≤:
- `/admin_grant <user_id> premium 30` - –≤—ã–¥–∞—Ç—å Premium –Ω–∞ 30 –¥–Ω–µ–π
- `/admin_reset <user_id>` - —Å–±—Ä–æ—Å–∏—Ç—å —Å—á–µ—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
- `/admin_info <user_id>` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
- `/admin_help` - —Å–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ Free –ª–∏–º–∏—Ç

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç –≤ Telegram
2. –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É `/start`
3. –°–¥–µ–ª–∞–π—Ç–µ 10 –∞–Ω–∞–ª–∏–∑–æ–≤
4. –ù–∞ 11-–º –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ª–∏–º–∏—Ç–µ ‚úÖ

### 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ Premium

1. –í—ã–¥–∞–π—Ç–µ —Å–µ–±–µ Premium:
   ```
   /admin_grant <–≤–∞—à_id> premium 30
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `/stats` - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "–±–µ–∑–ª–∏–º–∏—Ç" ‚úÖ

3. –ó–∞–ø—Ä–æ—Å–∏—Ç–µ 200 –∫–∞–Ω–∞–ª–æ–≤ - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å ‚úÖ

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

1. ‚úÖ –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
2. üîú –í—ã–±—Ä–∞—Ç—å –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É (YooKassa, Stripe, Telegram Stars)
3. üîú –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ–ø–ª–∞—Ç—É (–≥–æ—Ç–æ–≤–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
4. üîú –î–æ–±–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ

## –ü—Ä–æ–±–ª–µ–º—ã?

**–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
python3 -c "from app.db.database import async_session_maker; import asyncio; asyncio.run(async_session_maker().__aenter__())"
```

**Admin –∫–æ–º–∞–Ω–¥—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤–∞—à ID –¥–æ–±–∞–≤–ª–µ–Ω –≤ `ADMIN_IDS`
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**–õ–∏–º–∏—Ç—ã –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f logs/bot.log | grep -i "subscription\|limit"
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

üìñ **–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** `SUBSCRIPTION_SYSTEM.md`

–í–∫–ª—é—á–∞–µ—Ç:
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ø–ª–∞—Ç–µ–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- FAQ –∏ troubleshooting
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/bot.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ë–î: `SELECT * FROM users LIMIT 10;`
3. –û—Ç–∫—Ä–æ–π—Ç–µ issue –Ω–∞ GitHub
